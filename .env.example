# AI-Generated Voice Detection API - Environment Configuration
# Copy this file to .env and fill in the values

# =============================================================================
# REQUIRED SETTINGS
# =============================================================================

# API Keys (comma-separated list of valid keys, case-insensitive)
# Example: VOICE_API_KEYS=key1,key2,key3
VOICE_API_KEYS=your-secret-api-key-here

# =============================================================================
# AASIST ENSEMBLE MODEL CONFIGURATION
# =============================================================================

# Device for inference: "cpu" or "cuda"
AASIST_DEVICE=cpu

# GCS URIs for model weights (gs://bucket/path format)
# Leave empty to use local paths only (for local development)
AASIST_ORIG_WEIGHTS_GCS_URI=
AASIST_FT_WEIGHTS_GCS_URI=

# Local cache paths for downloaded weights
# Cloud Run uses /tmp for ephemeral storage
AASIST_ORIG_CACHE_PATH=/tmp/aasist_original.pth
AASIST_FT_CACHE_PATH=/tmp/aasist_finetuned_best.pth

# Classification threshold (spoof probability > threshold = AI_GENERATED)
AASIST_THRESHOLD=0.5

# Multi-window inference: number of windows to sample from long audio
AASIST_MAX_WINDOWS=3

# =============================================================================
# OPTIONAL SETTINGS (defaults shown)
# =============================================================================

# Enable API documentation (set to 1 for local development)
# In production (Cloud Run), leave as 0 or unset
ENABLE_DOCS=1

# Audio size limits
MAX_MP3_BYTES=15000000
MAX_DURATION_SECONDS=300

# Quality control thresholds
MIN_DURATION_SECONDS=0.5
SILENCE_RATIO_THRESHOLD=0.80

# Server port (Cloud Run sets this automatically)
PORT=8080
